{
    "sourceFile": "src/core/features/login/pages/site/site.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1693559346798,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1693559367965,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -95,18 +95,8 @@\n                 </ng-container>\n             </ion-list>\n         </ng-container>\n \n-        <ng-container *ngIf=\"showScanQR && !hasSites && !enteredSiteUrl\">\n-            <div class=\"ion-text-center ion-padding ion-margin-top core-login-site-qrcode-separator\">{{ 'core.login.or' | translate }}\n-            </div>\n-            <ion-button expand=\"block\" fill=\"outline\" class=\"ion-margin core-login-site-qrcode\" (click)=\"showInstructionsAndScanQR()\"\n-                aria-haspopup=\"dialog\">\n-                <ion-icon slot=\"start\" name=\"fas-qrcode\" aria-hidden=\"true\"></ion-icon>\n-                {{ 'core.scanqr' | translate }}\n-            </ion-button>\n-        </ng-container>\n-\n         <!-- Help. -->\n         <ion-button class=\"ion-margin-top core-login-need-help core-button-as-link ion-text-wrap\" (click)=\"showHelp()\"\n             aria-haspopup=\"dialog\" expand=\"block\" fill=\"clear\">\n             {{ 'core.needhelp' | translate }}\n"
                }
            ],
            "date": 1693559346798,
            "name": "Commit-0",
            "content": "<ion-header>\n    <ion-toolbar>\n        <ion-buttons slot=\"start\">\n            <ion-back-button [text]=\"'core.back' | translate\"></ion-back-button>\n        </ion-buttons>\n\n        <ion-buttons slot=\"end\">\n            <ion-button fill=\"clear\" (click)=\"openSettings()\" [attr.aria-label]=\"'core.settings.appsettings' | translate\">\n                <ion-icon slot=\"icon-only\" name=\"fas-gear\" aria-hidden=\"true\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-content class=\"ion-padding\">\n    <div class=\"list-item-limited-width\">\n        <div class=\"ion-text-center ion-padding ion-margin-bottom core-login-site-logo\" [class.hidden]=\"hasSites || enteredSiteUrl\">\n            <img src=\"assets/img/login_logo.png\" class=\"avatar-full login-logo\" role=\"presentation\" alt=\"\">\n        </div>\n        <form [formGroup]=\"siteForm\" (ngSubmit)=\"connect($event, siteForm.value.siteUrl)\" *ngIf=\"!fixedSites && siteForm\" #siteFormEl>\n            <!-- Form to input the site URL if there are no fixed sites. -->\n            <ng-container *ngIf=\" siteSelector=='url'\">\n                <ion-item>\n                    <ion-label position=\" stacked\">\n                        <h2>{{ 'core.login.siteaddress' | translate }}</h2>\n                    </ion-label>\n                    <ion-input name=\"url\" type=\"url\" placeholder=\"{{ 'core.login.siteaddressplaceholder' | translate }}\"\n                        formControlName=\"siteUrl\" [core-auto-focus]=\"showKeyboard && !showScanQR\">\n                    </ion-input>\n                </ion-item>\n            </ng-container>\n            <ng-container *ngIf=\"siteSelector != 'url'\">\n                <ion-item>\n                    <ion-label position=\"stacked\">\n                        <h2>{{ 'core.login.siteaddress' | translate }}</h2>\n                    </ion-label>\n                    <ion-input name=\"url\" placeholder=\"{{ 'core.login.siteaddressplaceholder' | translate }}\" formControlName=\"siteUrl\"\n                        [core-auto-focus]=\"showKeyboard && !showScanQR\" (ionChange)=\"searchSite($event, siteForm.value.siteUrl)\">\n                    </ion-input>\n                </ion-item>\n\n                <ion-list [class.hidden]=\"!hasSites && !enteredSiteUrl\" class=\"core-login-site-list\">\n                    <ion-item class=\"core-login-site-list-title\">\n                        <ion-label>\n                            <h2 class=\"item-heading\">{{ 'core.login.selectsite' | translate }}</h2>\n                        </ion-label>\n                    </ion-item>\n                    <ion-item button *ngIf=\"enteredSiteUrl\" (click)=\"connect($event, enteredSiteUrl.url)\"\n                        [attr.aria-label]=\"'core.login.connect' | translate\" detail=\"true\" class=\"core-login-entered-site\">\n                        <ion-thumbnail slot=\"start\" aria-hidden=\"true\">\n                            <ion-icon name=\"fas-pen\" aria-hidden=\"true\"></ion-icon>\n                        </ion-thumbnail>\n                        <ion-label>\n                            <h2 class=\"ion-text-wrap\">{{ 'core.login.yourenteredsite' | translate }}</h2>\n                            <p>{{enteredSiteUrl.noProtocolUrl}}</p>\n                        </ion-label>\n                    </ion-item>\n\n                    <div class=\"core-login-site-list-found\" [class.hidden]=\"!hasSites\" [class.dimmed]=\"loadingSites\">\n                        <div *ngIf=\"loadingSites\" class=\"core-login-site-list-loading\">\n                            <ion-spinner [attr.aria-label]=\"'core.loading' | translate\"></ion-spinner>\n                        </div>\n                        <ng-container *ngFor=\"let site of sites\">\n                            <ng-container *ngTemplateOutlet=\"sitelisting; context: {site: site}\"></ng-container>\n                        </ng-container>\n                    </div>\n                </ion-list>\n\n                <div *ngIf=\"!hasSites && loadingSites\" class=\"core-login-site-nolist-loading\">\n                    <ion-spinner [attr.aria-label]=\"'core.loading' | translate\"></ion-spinner>\n                </div>\n            </ng-container>\n\n            <ion-item *ngIf=\"siteSelector == 'url'\">\n                <ion-label>\n                    <ion-button expand=\"block\" [disabled]=\"!siteForm.valid\" class=\"ion-text-wrap\" type=\"submit\">\n                        {{ 'core.login.connect' | translate }}\n                    </ion-button>\n                </ion-label>\n            </ion-item>\n        </form>\n\n        <ng-container *ngIf=\"fixedSites\">\n            <!-- Pick the site from a list of fixed sites. -->\n            <ion-list *ngIf=\"siteSelector == 'list'\">\n                <ion-item>\n                    <ion-label>\n                        <h2 class=\"item-heading\">{{ 'core.login.selectsite' | translate }}</h2>\n                    </ion-label>\n                </ion-item>\n                <ion-searchbar *ngIf=\"fixedSites.length > 4\" [(ngModel)]=\"filter\" (ionInput)=\"filterChanged($event)\"\n                    (ionCancel)=\"filterChanged()\" [placeholder]=\"'core.login.findyoursite' | translate\">\n                </ion-searchbar>\n                <ng-container *ngFor=\"let site of filteredSites\">\n                    <ng-container *ngTemplateOutlet=\"sitelisting; context: {site: site}\"></ng-container>\n                </ng-container>\n            </ion-list>\n        </ng-container>\n\n        <ng-container *ngIf=\"showScanQR && !hasSites && !enteredSiteUrl\">\n            <div class=\"ion-text-center ion-padding ion-margin-top core-login-site-qrcode-separator\">{{ 'core.login.or' | translate }}\n            </div>\n            <ion-button expand=\"block\" fill=\"outline\" class=\"ion-margin core-login-site-qrcode\" (click)=\"showInstructionsAndScanQR()\"\n                aria-haspopup=\"dialog\">\n                <ion-icon slot=\"start\" name=\"fas-qrcode\" aria-hidden=\"true\"></ion-icon>\n                {{ 'core.scanqr' | translate }}\n            </ion-button>\n        </ng-container>\n\n        <!-- Help. -->\n        <ion-button class=\"ion-margin-top core-login-need-help core-button-as-link ion-text-wrap\" (click)=\"showHelp()\"\n            aria-haspopup=\"dialog\" expand=\"block\" fill=\"clear\">\n            {{ 'core.needhelp' | translate }}\n        </ion-button>\n    </div>\n</ion-content>\n\n<!-- Template site selector. -->\n<ng-template #sitelisting let-site=\"site\">\n    <ion-item button (click)=\"connect($event, site.url, site)\" [ngClass]=\"site.className\" [attr.aria-label]=\"site.name\" detail=\"true\">\n        <ion-thumbnail *ngIf=\"siteFinderSettings.displayimage\" slot=\"start\">\n            <img [src]=\"site.imageurl\" *ngIf=\"site.imageurl\" onError=\"this.src='assets/icon/icon.png'\" alt=\"\" role=\"presentation\">\n            <img src=\"assets/icon/icon.png\" *ngIf=\"!site.imageurl\" class=\"core-login-default-icon\" alt=\"\" role=\"presentation\">\n        </ion-thumbnail>\n        <ion-label>\n            <p *ngIf=\"site.title\" class=\"item-heading ion-text-wrap\">{{site.title}}</p>\n            <p *ngIf=\"site.noProtocolUrl\">{{site.noProtocolUrl}}</p>\n            <p *ngIf=\"site.location\">{{site.location}}</p>\n        </ion-label>\n    </ion-item>\n</ng-template>\n"
        }
    ]
}